<!-- babelsdk(jinja2) -->

{# ############# #}
{# Define Macros #}
{# ############# #}

{# Macro for printing a table given a data type #}

{% macro table_def(data_type) %}
{% if data_type.composite_type == 'struct' %}
<h5>{{ data_type.name }} (Struct)</h5>
{{ data_type.doc }}
<table class="api-param-values">
    <tr>
        <th>field</th>
        <th>data type</th>
        <th>nullable</th>
        <th>description</th>
    </tr>
    {% for field in data_type.all_fields -%}
    <tr>
        <td>
            <code>{{ field.name }}</code>
        </td>
        <td>{{ field.data_type.name }}</td>
        <td>{% if field.nullable %}Yes{% else %}No{% endif %}</td>
        <td>{{ field.doc }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}

<h5>{{ data_type.name }} (Union)</h5>
{{ data_type.doc }}
<table class="api-param-values">
    <tr>
        <th>option</th>
        <th>data type</th>
        <th>description</th>
    </tr>
    {% for field in data_type.all_fields -%}
    <tr>
        <td>
            <code>{{ field.name }}</code>
        </td>
        <td>{% if not field.symbol %}{{ field.data_type.name }}{% else %}&mdash;{% endif %}</td>
        <td>{% if field.symbol %}{{ field.doc }}{% else %}&mdash;{% endif %}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}

<br />

{%- for field in data_type.fields -%}
{% if not field.symbol and field.data_type.composite_type %}
{{ table_def(field.data_type) }}{% endif %}
{%- endfor %}

{% endmacro %}


{% macro formal_def(data_type) -%}
{% if data_type.super_type %}
{{ formal_def(data_type.super_type) }}
{% endif %}
{{ data_type.composite_type }} {{ data_type.name }}{% if data_type.super_type %} extends {{ data_type.super_type.name }}{% endif %}{% if data_type.fields %}:{% endif %}

{% for field in data_type.fields %}
    {% if field.symbol %}
    {{ field.name }}
    {% else %}
    {{ field.name }} = {{ field.data_type.name }}
    {% endif %}
{% endfor %}

{% for field in data_type.fields -%}
{% if not field.symbol and field.data_type.composite_type %}
{{ formal_def(field.data_type) }}
{% endif %}
{% endfor %}
{% endmacro %}


{% macro segmentation_def(segmentation, type) %}
    {% for segment in segmentation.segments -%}
    <h4>Segment {{ loop.index }} of {{ segmentation.segments|length }} ({% if segment.list %}List of {% endif %}{{ segment.data_type.name }})</h4>
        {% if segment.data_type.name != 'Binary' %}
        {{ table_def(segment.data_type) }}

        <br />

            {% if segment.data_type.has_example('default') %}
                <h5>Sample JSON {{ type }}</h5>
                <pre class="last literal-block">{{ segment.data_type.get_example('default')|pjson }}</pre>
            {% endif %}

            <h5>Formal Definition</h5>
            <pre class="last literal-block prettyprint dbprettyprint">{{ formal_def(segment.data_type) }}</pre>

        {% else %}
            &mdash;
        {% endif %}
    {% endfor %}
{% endmacro %}


{% macro error_def(data_type) %}

    {{ table_def(data_type) }}

{% endmacro %}

<!DOCTYPE html><html lang="en" xmlns:fb="http://ogp.me/ns/fb#" xml:lang="en" class="" xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript">
                window._document_observe_listeners = [];
                document.observe = function(event, func) {
                    window._document_observe_listeners.push({event: event, func: func});
                };

                window._jquery_ready_handlers = [];
                jQuery = function(handler) {
                    window._jquery_ready_handlers.push(handler);
                };

                function on_script_loaded(func) {
                    (window.LoadedJsSuccessfully && document.loaded) ? func() : document.observe('script:loaded', func);
                }
                </script> <link href="favicon-vflk5FiAC.ico" rel="shortcut icon" /><link href="main-vflhv9bWG.css" type="text/css" rel="stylesheet" /><link href="web_sprites-vflPjHJAz.css" type="text/css" rel="stylesheet" /><link href="dropbox_webclip-vflO8tEZ4.png" rel="apple-touch-icon" /><link href="/w3c/p3p.xml" rel="P3Pv1" /><script type="text/javascript">window.ST=+new Date();</script><meta content="text/html; charset=UTF-8" http-equiv="content-type" /><meta content="The Core API allows you to build the power of Dropbox directly into your app. It provides methods to read from and write to Dropbox, and powerful features such as simple sharing, search, and restoring files to past revisions. If you need low level access to Dropbox, the Core API is the best choice." name="description" /><meta content="online storage, free storage, file sharing, share files,
    awesome, cloud storage, online backup, cross platform, sync, sharing, mac,
    windows, os x, linux, backup, collaboration, file versioning, file revisions,
    remote access, undelete" name="keywords" /><meta content="Dropbox - Core API - endpoint reference" property="og:title" /><meta content="The Core API allows you to build the power of Dropbox directly into your app. It provides methods to read from and write to Dropbox, and powerful features such as simple sharing, search, and restoring files to past revisions. If you need low level access to Dropbox, the Core API is the best choice." property="og:description" /><meta content="glyph@2x-vflJ1vxbq.png" property="og:image" /><meta content="https://www.dropbox.com/developers/core/docs" property="og:url" /><meta content="website" property="og:type" /><meta content="Dropbox" property="og:site_name" /><meta content="210019893730" property="fb:app_id" /><meta content="summary" name="twitter:card" /><meta content="@Dropbox" name="twitter:site" /><meta content="https://www.dropbox.com/developers/core/docs" name="twitter:url" /><meta content="Dropbox - Core API - endpoint reference" name="twitter:title" /><meta content="The Core API allows you to build the power of Dropbox directly into your app. It provides methods to read from and write to Dropbox, and powerful features such as simple sharing, search, and restoring files to past revisions. If you need low level access to Dropbox, the Core API is the best choice." name="twitter:description" /><meta content="twitter-card-glyph@2x-vflVqhKLO.png" name="twitter:image" /><meta content="TnuSyOnBMNmtugbpL1ZvW2PbSF9LKvoTzrvOGS9h-b0" name="google-site-verification" /><meta content="EZKIczQcM1-DVUMz8heu1dIhNtxNbLqbaA9-HbOnCQ4" name="google-site-verification" /><meta content="tz8iotmk-pkhui406y41y5bfmfxdwmaa4a-yc0hm6r0fga7s6j0j27qmgqkmc7oovihzghbzhbdjk-uiyrz438nxsjdbj3fggwgl8oq2nf4ko8gi7j4z7t78kegbidl4" name="norton-safeweb-site-verification" /><meta content="win8_web_tile-vfl8eyKFU.png" name="msapplication-TileImage" /><meta content="#ffffff" name="msapplication-TileColor" /><title>Dropbox - Core API - endpoint reference</title><script type="text/javascript">var Constants = {"protocol": "https", "SUBSCRIBE_URL": "/subscribe", "DOC_PREVIEW_UNAVAILABLE_FAILED": 1, "_viewer_properties": {"_user_data": []}, "NOTIFICATION_TYPE_META": -1, "DISABLE_VIDEOS_IN_LIGHTBOX": false, "DOC_PREVIEW_IN_PROGRESS": 2, "team_id": "", "BATCH_THUMB_ENDPOINTS": ["//photos-1.dropbox.com/btjb", "//photos-2.dropbox.com/btjb", "//photos-3.dropbox.com/btjb", "//photos-4.dropbox.com/btjb", "//photos-5.dropbox.com/btjb", "//photos-6.dropbox.com/btjb"], "DOC_PREVIEW_UNAVAILABLE_PROTECTED_DOC": 4, "GSLB_ENABLED": 0, "REQUEST_ID": "a82cd6d439ad13b547ff8b6d56f4f9ff", "static_url_video_js_swf": "https://dt8kf6553cww8.cloudfront.net/static/swf/video-js-vflW9A5g1.swf", "BLOCK_CLUSTER": "dl-web.dropbox.com", "DELETE_ON_UNLINK_SUPPORTED": 1, "personal_email": "", "send_a_copy_new_send_enabled": 0, "DISABLE_VIDEO_ICONS": false, "static_url_pdfjs_viewer": "/static/javascript/external/pdf-js/viewer.html", "TWO_ITEM_LIST": "%(x)s and %(y)s", "send_a_copy_enabled": 0, "LIVE_TRANSCODE_SERVER": "showbox-tr.dropbox.com", "DELETE_ON_UNLINK_UNSUPPORTED": 3, "ADMIN": 0, "static_url_copy_clipboard_swf": "https://dt8kf6553cww8.cloudfront.net/static/swf/copy_clipboard-vflvMcZTC.swf", "TOKEN": "OgwMTH-h1Oo8ZYRt08t6onR4", "SVN_REV": "943938365", "date_format": "M/d/yyyy", "MAX_TEXT_FILE_SIZE_B": 4194304, "ROLE_WORK": "work", "referrer": "", "sess_id": "216419359574472824350731317707424584191", "quicksend_enabled": 0, "LOCALES": [["en", "English"], ["da_DK", "Dansk"], ["de", "Deutsch"], ["es", "Espa\u00f1ol (Latinoam\u00e9rica)"], ["es_ES", "Espa\u00f1ol (Espa\u00f1a)"], ["fr", "Fran\u00e7ais"], ["id", "Bahasa Indonesia"], ["it", "Italiano"], ["ja", "\u65e5\u672c\u8a9e"], ["ko", "\ud55c\uad6d\uc5b4"], ["ms", "Bahasa Malaysia"], ["nb_NO", "Norsk (bokm\u00e5l)"], ["nl_NL", "Nederlands"], ["pl", "Polski"], ["pt_BR", "Portugu\u00eas (Brasil)"], ["ru", "P\u0443\u0441\u0441\u043a\u0438\u0439"], ["sv_SE", "Svenska"], ["th_TH", "\u0e44\u0e17\u0e22"], ["tr", "T\u00fcrk\u00e7e"], ["uk_UA", "\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"], ["zh_CN", "\u4e2d\u6587\uff08\u7b80\u4f53\uff09"], ["zh_TW", "\u4e2d\u6587\uff08\u7e41\u9ad4\uff09"], ["xx_AC", "ALL CAPS"], ["xx_LS", "Long String"]], "COUNTRY_OVERRIDE": null, "datetime_format": "M/d/yyyy h:mm a", "ROLE_PHOTOS": "photos", "hls_debug_level": "off", "TIMEZONE_OFFSET": 0, "NOTSERVER": "notify1.dropbox.com:80", "THREE_ITEM_LIST": "%(x)s, %(y)s, and %(z)s", "USER_LOCALE": "en", "MAX_PDF_FILE_SIZE_B": 20971520, "root_ns": 0, "DELETE_ON_UNLINK_OLD_CLIENT": 2, "PDF_PREVIEW_MODE": null, "team_name": "", "WEB_TIMING_ENABLED": 1, "DOC_PREVIEW_AVAILABLE": 0, "upload_debug": false, "ROLE_PARAM": "role", "static_url_video_overlay": "https://dt8kf6553cww8.cloudfront.net/static/images/icons/video_overlay-vfld7VbHa.png", "ROLE_PERSONAL": "personal", "GANDALF_PANEL": 0, "IS_PROD": 1, "static_url_swfupload_swf": "https://dt8kf6553cww8.cloudfront.net/static/swf/swfupload-vfl8U9T2v.swf", "CPROFILE_PARAMETER": "", "EMAIL_VERIFIED": 0, "PUBSERVER": "dl.dropboxusercontent.com", "time_format": "h:mm a", "IS_SPDY": 0, "work_email": "", "PUBLIC_MODE_OVERRIDE": null, "static_url_moxie_swf": "https://dt8kf6553cww8.cloudfront.net/static/swf/Moxie-vflz978zN.swf", "UID_PARAM_NAME": "_subject_uid", "WEBSERVER": "www.dropbox.com", "transcoder_hls4web": 1, "static_url_syntax_js": "https://dt8kf6553cww8.cloudfront.net/static/javascript/external/syntax-vflpNqebu.js", "block": "dl-web.dropbox.com", "FACEBOOK_APP_ID": "210019893730", "DOC_PREVIEW_UNAVAILABLE_BAD_FILE": 3, "CPROFILE_ENABLED": 0, "WIT_VERSION": 6};</script><script type="text/javascript">
    window.LoadedJsSuccessfully = false;

    if (window.addEventListener) {
        window.addEventListener('load', function() {
            window.setTimeout(function() {
                if (!window.LoadedJsSuccessfully) {
                    var url = encodeURIComponent(window.location.href);
                    new Image().src = '/jse?e=failed+to+load+script&loc=' + url + '&f=' + url;
                }
            }, 5000);
        }, false);
    }
</script><script type="text/javascript">
                        window.REQUIREJS_PACKAGE_SHIM = {"dropins_mobile": {"deps": ["jquery", "modules/core"]}, "jquery": {"exports": "JQuery"}, "mobile": {"deps": ["jquery", "libs_mobile", "modules/core"]}, "saver": {"deps": ["jquery", "modules/core"]}, "connect_v3_mobile": {"deps": ["jquery", "modules/core"]}, "libs": {"deps": ["jquery", "external/underscore"]}, "dropbox": {"deps": ["jquery", "libs", "modules/core"]}, "libs_mobile": {"deps": ["jquery", "external/underscore"]}};
                        window.REQUIREJS_CONFIG = {"waitSeconds": 30, "baseUrl": "https://dt8kf6553cww8.cloudfront.net/static/coffee/compiled", "paths": {"jquery": ["https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min", "https://dt8kf6553cww8.cloudfront.net/static/javascript/external/jquery-vflrOa9og", "https://www.dropboxstatic.com/static/javascript/external/jquery-vflrOa9og"], "dropboxapi": ["https://dt8kf6553cww8.cloudfront.net/static/api/1/dropbox-vflPFN3ig", "https://www.dropboxstatic.com/static/api/1/dropbox-vflPFN3ig"], "modules/core": "modules/core-vfldVfPL4", "external/underscore": "https://dt8kf6553cww8.cloudfront.net/static/javascript/external/underscore-vfl7K8tzR", "connect_v3_mobile": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/connect-v3-mobile-mini-vfl5OmAhW", "https://www.dropboxstatic.com/static/javascript/compiled/connect-v3-mobile-mini-vfl5OmAhW"], "saver": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/saver-mini-vfl2uQSPa", "https://www.dropboxstatic.com/static/javascript/compiled/saver-mini-vfl2uQSPa"], "javascript": "https://dt8kf6553cww8.cloudfront.net/static/javascript", "dropins_mobile": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/dropins-mobile-mini-vfll4og_W", "https://www.dropboxstatic.com/static/javascript/compiled/dropins-mobile-mini-vfll4og_W"], "developers_toc": "developers_toc-vfl9e3dIF", "mobile": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/dropbox-mobile-mini-vflNGxa2K", "https://www.dropboxstatic.com/static/javascript/compiled/dropbox-mobile-mini-vflNGxa2K"], "external/prettify/prettify": "https://dt8kf6553cww8.cloudfront.net/static/javascript/external/prettify/prettify-vflcJv8xF", "external": "https://dt8kf6553cww8.cloudfront.net/static/javascript/external", "libs": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/libs-mini-vflxVhDsc", "https://www.dropboxstatic.com/static/javascript/compiled/libs-mini-vflxVhDsc"], "dropbox": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/dropbox-mini-vflvEHcAi", "https://www.dropboxstatic.com/static/javascript/compiled/dropbox-mini-vflvEHcAi"], "libs_mobile": ["https://dt8kf6553cww8.cloudfront.net/static/javascript/compiled/libs-mobile-mini-vfl4lkkPL", "https://www.dropboxstatic.com/static/javascript/compiled/libs-mobile-mini-vfl4lkkPL"]}};
                        </script><script src="require-vflMPzMbZ.js" type="text/javascript"></script><script type="text/javascript">requirejs(["dropbox"]);</script><style type="text/css">.hny-yibfpz { display: none; }</style><!--[if lt IE 9]><script src="/static/javascript/external/html5shiv.js"></script><![endif]-->  <link media="all" href="pygments.css" type="text/css" rel="stylesheet" /><link href="developers-vfltrPnIR.css" type="text/css" rel="stylesheet" /><link href="prettify-vflwwlzmU.css" type="text/css" rel="stylesheet" /><link href="sidebar-vflIfmZlt.css" type="text/css" rel="stylesheet" /><script>
                if (self != top) {
                    top.location.replace(self.location.href);
                    setTimeout(function() {
                        document.body.innerHTML = (
                            "<img src='logo.png' onClick='top.location.href=window.location.href' />");
                    }, 1);
                }
            

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-279179-2']);
_gaq.push(['_setCampContentKey', 'utm_content']);
_gaq.push(['_setCampMediumKey', 'utm_medium']);
_gaq.push(['_setCampNameKey', 'utm_campaign']);
_gaq.push(['_setCampSourceKey', 'utm_source']);
_gaq.push(['_setCampTermKey', 'utm_keyword']);
_gaq.push(['_setDomainName', document.domain]);
_gaq.push(['_trackPageview']);

// Defer so this doesn't block onload.
window.setTimeout(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    var src_prefix = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www');
    ga.src = src_prefix + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s.nextSibling);
}, 0);</script></head><body class="en developers-new developers-core-docs "><div class="dev-page-immersive"><div class="header"><a href="/developers"><img src="blue_dropbox_glyph.png" class="logo" /></a></div> <div id="outer-frame" class="has_sidebar developers-docs-page"><div id="sidebar"><div id="toc-border"></div><div id="toc"><ul><h4>OAuth 1.0</h4>
    <ul>
        <li id="toc-request-token"><a href="#request-token">&#47;request_token</a></li>
        <li id="toc-authorize"><a href="#authorize">&#47;authorize</a></li>
        <li id="toc-access-token"><a href="#access-token">&#47;access_token</a></li>
    </ul>
<h4>OAuth 2.0</h4>
    <ul>
        <li id="toc-oa2-authorize"><a href="#oa2-authorize">&#47;authorize</a></li>
        <li id="toc-oa2-token"><a href="#oa2-token">&#47;token</a></li>
        <li id="toc-oa2-from-oa1"><a href="#oa2-from-oa1">&#47;token_from_oauth1</a></li>
    </ul>
<h4>Access tokens</h4>
    <ul>
        <li id="toc-disable-token"><a href="#disable-token">&#47;disable_access_token</a></li>
    </ul>


{# Autogenerate Navigation Bar #}
{% for namespace_name, namespace in api.namespaces.items() %}
<h4>{{ namespace_name|capitalize }}</h4>
    <ul>
        {% for op in namespace.operations %}<li id="toc-{{op.name}}"><a href="#{{ namespace_name }}-{{op.name}}">{{ op.name }}</a></li>{% endfor %}
    </ul>
{% endfor %}


<h4>Webhooks</h4>
    <ul>
        <li id="toc-webhooks-verification"><a href="#webhooks-verification">Verification requests</a></li>
        <li id="toc-webhooks-notification"><a href="#webhooks-notification">Notification requests</a><li>
    <ul>
</ul></div></div><div id="page-content"><div id="right-content"><div id="api-specification" class="section"><h1>Core API</h1><p>The Core API is the underlying interface for all of our official <a href="/mobile" target="_blank">Dropbox mobile apps</a> and our <a href="/developers/core/sdk">SDKs</a>. It's the most direct way to access the API. This reference document is designed for those interested in developing for platforms not supported by the SDKs or for those interested in exploring API features in detail.</p><div id="general-notes" class="toc-el"></div><h2 id="general-notes">General notes</h2><h4>API compatibility</h4><p>This API will evolve. Future versions of this API may add new endpoints or parameters. In order to keep older clients working, the behavior and return value of APIs with given parameter values will not change from the currently documented behavior and return values, with two important exceptions: currently undocumented request parameters (whether they are actually ignored or not) may be given a specific meaning, and objects returned in responses may contain additional keys in the future.</p><p>Thus, clients that want to be future-proof should avoid passing undocumented parameters (as they may cause different behavior in the future), and they should avoid strict checks on the keys of objects found in responses.</p><p>For example, you should not consider a <a href="#metadata">/metadata</a> response invalid if it contains additional keys besides those currently documented below.</p><h4>SSL only</h4><p>We require that all requests are done over SSL.</p><h4>App folder access type</h4><p>The default root level access type, <strong>app folder</strong> (as described in <a href="/developers/reference/devguide#app-permissions">app types and permissions</a>), is referenced in API URLs by its codename <code>sandbox</code>. This is the only place where such a distinction is made.</p><h4>UTF-8 encoding</h4><p>Every string passed to and from the Dropbox API needs to be UTF-8 encoded. For maximum compatibility, normalize to <a href="http://unicode.org/reports/tr15/" target="_blank">Unicode Normalization Form C</a> (NFC) before UTF-8 encoding.</p><div id="date-format"><h4>Date format</h4><p>All dates in the API are strings in the following format:</p><pre class="literal-block">"Sat, 21 Aug 2010 22:31:20 +0000"</pre><p>In code format, which can be used in all programming languages that support <code>strftime</code> or <code>strptime</code>:</p><pre class="literal-block">"%a, %d %b %Y %H:%M:%S %z"</pre></div><div id="param.locale" class="toc-el"></div><h4>Locale global request parameter</h4><p>Dropbox uses the <code>locale</code> parameter to specify language settings of content responses. If your app supports any language other than English, insert the appropriate <a href="http://en.wikipedia.org/wiki/IETF_language_tag" target="_blank">IETF language tag</a>. When a <a href="/help/31" target="_blank">supported language</a> is specified, Dropbox will returned translated <code>size</code> and/or <code>user_error</code> fields (where applicable).</p><div id="error-handling" class="section toc-el"><h2>Error handling</h2><p>Errors are returned using standard HTTP error code syntax. Any additional info is included in the body of the return call, JSON-formatted. Error codes not listed here are in the REST API methods listed below.</p><h2>Standard API errors</h2><table class="api-param-values center-first-col"><tr><th>Code</th><th>Description</th></tr><tr><td>400</td><td>Bad input parameter. Error message should indicate which one and why.</td></tr><tr><td>401</td><td>Bad or expired token. This can happen if the user or Dropbox revoked or expired an access token. To fix, you should re-authenticate the user.</td></tr><tr><td>403</td><td>Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here.</td></tr><tr><td>404</td><td>File or folder not found at the specified path.</td></tr><tr><td>405</td><td>Request method not expected (generally should be GET or POST).</td></tr><tr><td>429</td><td>Your app is making too many requests and is being rate limited. 429s can trigger on a per-app or per-user basis.</td></tr><tr><td>503</td><td>If the response includes the <span class="code-name">Retry-After</span> header, this means your OAuth 1.0 app is being rate limited. Otherwise, this indicates a transient server error, and your app should retry its request.</td></tr><tr><td>507</td><td>User is over Dropbox storage quota.</td></tr><tr><td>5xx</td><td>Server error. Check <a href="http://status.dropbox.com" target="_blank">DropboxOps</a>.</td></tr></table></div><div id="authentication-methods" class="section"><h2>OAuth 1.0</h2><p>OAuth 1.0 continues to be supported for all API requests, but <a href="#oauth2-methods">OAuth 2.0</a> is now preferred.</p><div id="oauth_authentication" class="section"><div id="request-token" class="section toc-el"><h3 class="method-title-first">/oauth/request_token</h3><dl><dt>Description</dt><dd><p>Step 1 of authentication. Obtain an OAuth <em>request token</em> to be used for the rest of the authentication process.</p><p>This method corresponds to <a href="http://oauth.net/core/1.0/#auth_step1" target="_blank">Obtaining an Unauthorized Request Token</a> in the OAuth Core 1.0 specification.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block">https://api.dropbox.com/1/oauth/request_token</pre></dd><dt>Method</dt><dd>POST</dd><dt>Parameters</dt><dd><p>There are no Dropbox-specific parameters for this method. See <a href="http://oauth.net/core/1.0/#rfc.section.6.1.1" target="_blank">Consumer Obtains a Request Token</a> in the OAuth Core 1.0 specification for a description of the OAuth parameters used for fetching a request token. Since this method is on behalf of an unauthenticated user, no access token or secret should be involved when signing or sending the request.</p></dd><dt>Returns</dt><dd><p>A request token and the corresponding request token secret, URL-encoded. This token/secret pair is meant to be used with <code>/oauth/access_token</code> to complete the authentication process and cannot be used for any other API calls. See <a href="http://oauth.net/core/1.0/#rfc.section.6.1.2" target="_blank">Service Provider Issues an Unauthorized Request Token</a> in the OAuth Core 1.0 specification for additional discussion of the values returned when fetching a request token.</p><p><strong>Sample response</strong></p><pre class="literal-block">oauth_token_secret=b9q1n5il4lcc&amp;oauth_token=mh7an9dkrg59</pre></dd></dl></div><div id="authorize" class="section toc-el"><h3 class="method-title">/oauth/authorize</h3><dl><dt>Description</dt><dd><p>Step 2 of authentication. Applications should direct the user to <code>/oauth/authorize</code>. This isn't an API call per se, but rather a web endpoint that lets the user sign in to Dropbox and choose whether to grant the application the ability to access files on their behalf. Without the user's authorization in this step, it isn't possible for your application to obtain an access token from <code>/oauth/access_token</code>.</p><p>This method corresponds to <a href="http://oauth.net/core/1.0/#auth_step2" target="_blank">Obtaining User Authorization</a> in the OAuth Core 1.0 specification.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block"><strong>https</strong>://<strong>www.dropbox.com</strong>/1/oauth/authorize</pre><p><strong>Note:</strong> This is the only step that requires an endpoint on <code><strong>www.dropbox.com</strong></code>. All other API requests are done via <code>api.dropbox.com</code>, <code>api-content.dropbox.com</code>, or <code>api-notify.dropbox.com</code>. The user must be redirected to the Dropbox website over HTTPS. After the user decides whether or not to authorize your application, they will be redirected to the URL specified by <code>oauth_callback</code> (more on that below).</p></dd><dt>Method</dt><dd>GET</dd><dt>Parameters</dt><dd><ul class="parameters"><li><span class="param">oauth_token</span> <span class="param-info">required</span> The request token obtained via <code>/oauth/request_token</code>.</li><li><span class="param">oauth_callback</span> After the user either authorizes or disallows your application, they are redirected to this URL.</li><li><span class="param">locale</span> If the locale specified is a <a href="/help/31" target="_blank">supported language</a>, Dropbox will direct users to a translated version of the authorization website. See the <a href="#param.locale">notes above</a> for more information about supported locales.</li><li><span class="param">disable_signup</span> When true (default is false) users will not be able to sign up for a Dropbox account via the authorization page. Instead, the authorization page will show a link to the Dropbox iOS app in the App Store. This is only intended for use when necessary for compliance with App Store policies.</li></ul></dd><dt>Returns</dt><dd><p>Because the application doesn't call <code>/oauth/authorize</code> directly, there is no direct return value. After the user authorizes the application, the request token can be used to retrieve an access token via the <a href="#access-token"><code>/oauth/access_token</code></a> API call. If the <code>oauth_callback</code> parameter is omitted, the application must find some other way of determining when the authorization step is complete. For example, the application can have the user explicitly indicate to it that this step is complete, but this flow may be less intuitive for users than the redirect flow.</p><p>If <code>oauth_callback</code> is specified and the user authorizes the application, they will get redirected to the specified URL with the following additional URL query parameters appended:</p><ul class="parameters"><li><span class="param">oauth_token</span> The request token that was just authorized. The request token secret isn't sent back.</li><li><span class="param">uid</span> The user's unique Dropbox ID.</li></ul><p>If the user chooses not to authorize the application, they will get redirected to the <code>oauth_callback</code> URL with the additional URL query parameter <strong>not_approved=true</strong>.</p></dd></dl></div><div id="access-token" class="section toc-el"><h3 class="method-title">/oauth/access_token</h3><dl><dt>Description</dt><dd><p>Step 3 of authentication. After the <code>/oauth/authorize</code> step is complete, the application can call <code>/oauth/access_token</code> to acquire an access token.</p><p>This method corresponds to <a href="http://oauth.net/core/1.0/#auth_step3" target="_blank">Obtaining an Access Token</a> in the OAuth Core 1.0 specification.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block">https://api.dropbox.com/1/oauth/access_token</pre></dd><dt>Method</dt><dd>POST</dd><dt>Parameters</dt><dd><p>There are no Dropbox-specific parameters for this method. See <a href="http://oauth.net/core/1.0/#rfc.section.6.3.1" target="_blank">Consumer Requests an Access Token</a> in the OAuth Core 1.0 specification for a description of the parameters used for fetching an access token. Note that the <code>oauth_token</code> and <code>oauth_token_secret</code> for this method are the request token and request token secret obtained previously via <code>/oauth/request_token</code>.</p></dd><dt>Returns</dt><dd><p>URL-encoded access token, access token secret, and Dropbox user id. Upon return, the authorization process is now complete and the access token and corresponding secret can be used to sign requests for the main API calls. See <a href="http://oauth.net/core/1.0/#rfc.section.6.3.2" target="_blank">Service Provider Grants an Access Token</a> in the OAuth Core 1.0 specification for additional discussion of the values returned when fetching an access token.  If your app is configured to work within an app folder, that folder is also created during this step.</p><p><strong>Sample response</strong></p><pre class="literal-block">oauth_token_secret=95grkd9na7hm&amp;oauth_token=ccl4li5n1q9b&amp;uid=100</pre></dd></dl></div></div><div id="oauth2-methods" class="section"><h2>OAuth 2.0</h2><p>Dropbox supports <a href="http://oauth.net" target="_blank">OAuth 2.0</a> for authenticating all API requests.</p><div id="oa2-authorize" class="section toc-el"><h3 class="method-title">/oauth2/authorize<ul><li><a href="/developers/core/docs/python#DropboxOAuth2Flow.start">Python</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-java/api-docs/v1.7.x/com/dropbox/core/DbxWebAuth.html#start()">Java</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-ruby/api-docs/v1.6.4/DropboxOAuth2Flow.html#method-i-start">Ruby</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-php/api-docs/v1.1.x/class-Dropbox.WebAuth.html#_start">PHP</a></li></ul></h3><dl><dt>Description</dt><dd><p>This starts the OAuth 2.0 authorization flow. This isn't an API call&mdash;it's the web page that lets the user sign in to Dropbox and authorize your app. After the user decides whether or not to authorize your app, they will be redirected to the URI specified by <code>redirect_uri</code>.</p><p>OAuth 2.0 supports two authorization flows:</p><ul class="blue-bullets"><li>The <code>code</code> flow returns a code via the <code>redirect_uri</code> callback which should then be converted into a bearer token using the <a href="#oa2-token"><code>/oauth2/token</code> call</a>. This is the recommended flow for apps that are running on a server.</li><li>The <code>token</code> or implicit grant flow returns the bearer token via the <code>redirect_uri</code> callback, rather than requiring your app to make a second call to a server. This is useful for pure client-side apps, such as mobile apps or JavaScript-based apps.</li></ul><p> For more information on the two flows, see <a href="http://tools.ietf.org/html/rfc6749#section-1.3">Section 1.3 of the OAuth 2 spec</a>.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block"><strong>https://www.dropbox.com</strong>/1/oauth2/authorize</pre><p><strong>Note:</strong> This is the only step that requires an endpoint on <code>www.dropbox.com</code>. All other API requests are done via <code>api.dropbox.com</code>, <code>api-content.dropbox.com</code>, or <code>api-notify.dropbox.com</code>. </p></dd><dt>Method</dt><dd>GET</dd><dt>Parameters</dt><dd><ul class="parameters"><li><span class="param">response_type</span> <span class="param-info">required</span> The grant type requested, either <code>token</code> or <code>code</code>.</li><li><span class="param">client_id</span> <span class="param-info">required</span> The app's key, found in the <a href="https://www.dropbox.com/developers/apps">App Console</a>.</li><li><span class="param">redirect_uri</span> Where to redirect the user after authorization has completed. This must be the exact URI registered in the <a href="https://www.dropbox.com/developers/apps">App Console</a>; even 'localhost' must be listed if it is used for testing. A redirect URI is required for a <code>token</code> flow, but optional for <code>code</code>. If the redirect URI is omitted, the <code>code</code> will be presented directly to the user and they will be invited to enter the information in your app.</li><li><span class="param">state</span> Up to 200 bytes of arbitrary data that will be passed back to your redirect URI. This parameter should be used to protect against cross-site request forgery (CSRF). See Sections <a href="http://tools.ietf.org/html/rfc6819#section-4.4.1.8">4.4.1.8</a> and <a href="http://tools.ietf.org/html/rfc6819#section-4.4.2.5">4.4.2.5</a> of the OAuth 2.0 threat model spec.</li><li><span class="param">force_reapprove</span> Whether or not to force the user to approve the app again if they've already done so. If <code>false</code> (default), a user who has already approved the application may be automatically redirected to the URI specified by <code>redirect_uri</code>. If <code>true</code>, the user will not be automatically redirected and will have to approve the app again.</li><li><span class="param">disable_signup</span> When true (default is false) users will not be able to sign up for a Dropbox account via the authorization page. Instead, the authorization page will show a link to the Dropbox iOS app in the App Store. This is only intended for use when necessary for compliance with App Store policies.</li></ul></dd><dt>Returns</dt><dd><p>Because <code>/oauth2/authorize</code> is a website, there is no direct return value. However, after the user authorizes your app, they will be sent to your redirect URI. The type of response varies based on the <code>response_type</code>.</p><h4>Code flow</h4><p>These parameters are passed in the query string (after the ? in the URL):</p><ul style="margin-left:35px;" class="parameters"><li><span class="param">code</span> The authorization code, which can be used to attain a bearer token by calling <a href="#oa2-token"><code>/oauth2/token</code></a>.</li><li><span class="param">state</span> The state content, if any, originally passed to <code>/oauth2/authorize</code>.</li><li><p><strong>Sample response</strong></p><pre class="literal-block">[REDIRECT_URI]?code=ABCDEFG&amp;state=[STATE]</pre></li></ul><h4>Token flow</h4><p>These parameters are passed in the URL fragment (after the # in the URL):</p><ul style="margin-left:35px;" class="parameters"><li><span class="param">access_token</span> A token which can be used to make calls to the Dropbox API.</li><li><span class="param">token_type</span>The type of token, which will always be <code>bearer</code>.</li><li><span class="param">uid</span> The Dropbox user ID of the authorized user.</li><li><span class="param">state</span> The state content, if any, originally passed to <code>/oauth2/authorize</code>.</li><li><p><strong>Sample response</strong></p><pre class="literal-block">[REDIRECT_URI]#access_token=ABCDEFG&amp;token_type=bearer&amp;uid=12345&amp;state=[STATE]</pre></li></ul></dd><dt>Errors</dt><dd><p>In either flow, if an error occurs, including if the user has chosen not to authorize the app, the following parameters will be included in the redirect URI:</p><ul class="parameters"><li><span class="param">error</span> An error code per <a href="http://tools.ietf.org/html/rfc6749#section-4.1.2.1">Section 4.1.2.1 of the OAuth 2.0 spec</a>.</li><li><span class="param">error_description</span> A user-friendly description of the error that occurred.</li><li><span class="param">state</span> The state content, if any, originally passed to <code>/oauth2/authorize</code>.</li></ul></dd></dl></div><div id="oa2-token" class="section toc-el"><h3 class="method-title">/oauth2/token<ul><li><a href="/developers/core/docs/python#DropboxOAuth2Flow.finish">Python</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-java/api-docs/v1.7.x/com/dropbox/core/DbxWebAuth.html#finish(java.util.Map)">Java</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-ruby/api-docs/v1.6.4/DropboxOAuth2Flow.html#method-i-finish">Ruby</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-php/api-docs/v1.1.x/class-Dropbox.WebAuth.html#_finish">PHP</a></li></ul></h3><dl><dt>Description</dt><dd><p>This endpoint only applies to apps using the <a href="#oa2-authorize">authorization code flow</a>. An app calls this endpoint to acquire a bearer token once the user has authorized the app.</p><p>Calls to <code>/oauth2/token</code> need to be authenticated using the apps's key and secret. These can either be passed as POST parameters (see parameters below) or via <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">HTTP basic authentication</a>. If basic authentication is used, the app key should be provided as the username, and the app secret should be provided as the password.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block">https://api.dropbox.com/1/oauth2/token</pre></dd><dt>Method</dt><dd>POST</dd><dt>Parameters</dt><dd><ul class="parameters"><li><span class="param">code</span> <span class="param-info">required</span> The code acquired by directing users to <code>/oauth2/authorize?response_type=code</code>.</li><li><span class="param">grant_type</span> <span class="param-info">required</span> The grant type, which must be <code>authorization_code</code>.</li><li><span class="param">client_id</span> If credentials are passed in <code>POST</code> parameters, this parameter should be present and should be the app's key (found in the <a href="https://www.dropbox.com/developers/apps">App Console</a>).</li><li><span class="param">client_secret</span> If credentials are passed in <code>POST</code> parameters, this parameter should be present and should be the app's secret.</li><li><span class="param">redirect_uri</span> Only used to validate that it matches the original <code>/oauth2/authorize</code>, not used to redirect again.</li></ul></dd><dt>Returns</dt><dd><p>A JSON-encoded dictionary including an access token (<code>access_token</code>), token type (<code>token_type</code>), and Dropbox user ID (uid). The token type will always be "bearer".</p><p><strong>Sample response</strong></p><pre class="literal-block">
{&quot;access_token&quot;: &quot;ABCDEFG&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;uid&quot;: &quot;12345&quot;}
</pre></dd></dl></div><div id="oa2-from-oa1" class="section toc-el"><h3 class="method-title">/oauth2/token_from_oauth1<ul><li><a href="/developers/core/docs/python#DropboxClient.create_oauth2_access_token">Python</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-java/api-docs/v1.7.x/com/dropbox/core/DbxOAuth1Upgrader.html">Java</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-ruby/api-docs/v1.6.4/DropboxClient.html#method-i-create_oauth2_access_token">Ruby</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-php/api-docs/v1.1.x/class-Dropbox.OAuth1Upgrader.html">PHP</a></li></ul></h3><dl><dt>Description</dt><dd><p>This endpoint should be used by apps transitioning from OAuth 1 to OAuth 2. It will return an OAuth 2 token for the authenticated user.</p><p>Calls to <code>/oauth2/token_from_oauth1</code> must be authenticated via OAuth 1.</p></dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block">https://api.dropbox.com/1/oauth2/token_from_oauth1</pre></dd><dt>Method</dt><dd>POST</dd><dt>Returns</dt><dd><p>A JSON-encoded dictionary including an access token (<code>access_token</code>) and a token type (<code>token_type</code>). The token type will always be "bearer".</p><p><strong>Sample response</strong></p><pre class="literal-block">{"access_token": "ABCDEFG", token_type: "bearer"}</pre></dd></dl></div></div></div><div id="tokens" class="section"><h2>Access tokens</h2><div id="disable-token" class="section toc-el"><h3 class="method-title">/disable_access_token<ul><li><a href="/developers/core/docs/python#DropboxClient.disable_access_token">Python</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-java/api-docs/v1.7.x/com/dropbox/core/DbxClient.html#disableAccessToken()">Java</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-ruby/api-docs/v1.6.4/DropboxClient.html#method-i-disable_access_token">Ruby</a></li><li><a href="http://dropbox.github.io/dropbox-sdk-php/api-docs/v1.1.x/class-Dropbox.Client.html#_disableAccessToken">PHP</a></li></ul></h3><dl><dt>Description</dt><dd>Disables the access token used to authenticate the call. This method works for OAuth 1 and OAuth 2 tokens.</dd><dt class="url-label">URL Structure</dt><dd><pre class="literal-block">https://api.dropbox.com/1/disable_access_token</pre></dd><dt>Method</dt><dd>POST</dd><dt>Returns</dt><dd><p>An empty JSON dictionary, which indicates success.</p></dd></dl></div></div>


{# Autogenerate Operation Definitions #}
{% for namespace_name, namespace in api.namespaces.items() %}
<div id="{{ namespace_name }}" class="section toc-el">
    <h2>{{ namespace_name|capitalize }}</h2>
    {% for op in namespace.operations %}
    <a name="{{ namespace_name }}-{{op.name}}"></a>
    <h3 class="method-title-first">{{ namespace_name }}/{{ op.name|lower }}
        <ul>
            <li>
                <a href="#broken"> Python</a>
            </li>
            <li>
                <a href="#broken">Java</a>
            </li>
            <li>
                <a href="#broken">Ruby</a>
            </li>
            <li>
                <a href="#broken">PHP</a>
            </li>
        </ul>
    </h3>
    <dl>
        <dt>Description</dt>
        <dd>{{ op.doc|replace("\n\n", "<br /><br/>") }}</dd>
        <dt class="url-label">URL Structure</dt>
        <dd>
            <pre class="literal-block">https://api.dropbox.com/2/{{ namespace_name }}/{{ op.name|lower }}</pre>
        </dd>
        <dt>Request</dt>
        <dd style="margin-top:30px;">
            {{ segmentation_def(op.request_segmentation, 'request') }}
        </dd>
        <dt>Response</dt>
        <dd style="margin-top:35px;">
            {{ segmentation_def(op.response_segmentation, 'response') }}
        </dd>
        {% if op.error_data_type %}
        <dt>Error</dt>
        <dd style="margin-top:35px;">
            {{ error_def(op.error_data_type) }}
        </dd>
        {% endif %}
    </dl>
    {% endfor %}
</div>
{% endfor %}


<div id="webhooks" class="section"><h2>Webhooks</h2><p>With webhooks, your web app can be notified when your users' files change, rather than requiring your app to frequently poll Dropbox for changes. Every time a user's files change, the webhook URI you specify will be sent an HTTP request telling it which users have changes. You can register webhook URIs via the <a href="/developers/apps">App Console</a>. To learn more about how to use webhooks, read the <a href="/developers/webhooks/tutorial">webhooks tutorial</a>.</p><div id="webhooks-verification" class="section toc-el"><h4>Handling the verification request</h4><p>The first request to your new webhook URI will be a verification request to confirm that Dropbox is communicating with the right service.</p><p>The verification request will be a <code>GET</code> request with a <span class="param">challenge</span> parameter, which is a random string (e.g. <code>https://www.example.com/dropbox-webhook?challenge=abc123</code>). Your app should echo back the challenge parameter as the body of its response. Once Dropbox receives a valid response, the endpoint is considered to be a valid webhook, and Dropbox will begin sending notifications of file changes. Your app has up to ten seconds to respond to the verification request. Dropbox will not perform automatic retry for verification requests.</p></div> <div id="webhooks-notification" class="section toc-el"><h4>Receiving notifications</h4><p>Once you have successfully added your webhook endpoint, Dropbox will begin sending <code>POST</code> requests to your webhook endpoint when any user linked to the app has a file change. If multiple users make changes at the same time, they may be included in the same notification. The body of the HTTP request will be JSON with the following format:<pre class="last literal-block">
{
  &quot;delta&quot;: {
    &quot;users&quot;: [
      12345678,
      23456789,
      ...
    ]
  }
}
</pre></p><p>You can verify the authenticity of the request by looking at the <span class="code-name">X-Dropbox-Signature</span> header, which will contain the HMAC-SHA256 signature of the entire request body using your app secret as the key.</p><p>When sending change notifications to your app, Dropbox will handle errors with exponential backoff. Each request that results in a non-200 response code or times out will be re-attempted over the course of about ten minutes. After that, a failure will be reported, which you'll be able to see in the <a href="https://www.dropbox.com/developers/apps">App Console</a>.</p></div> </div> </div><br class="clear" /></div></div><div id="page-full-footer"></div></div></div><script>requirejs(["developers_toc", "dropbox", "external/prettify/prettify"], function(developers_toc, dropbox, external__prettify__prettify) { (function (developers_toc) { null }(developers_toc));
(function (prettify) { prettyPrint(); }(external__prettify__prettify)); });</script></body></html>
